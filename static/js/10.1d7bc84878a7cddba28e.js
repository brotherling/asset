webpackJsonp([10],{"2Z3E":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={name:"login",beforeRouteEnter:function(e,t,s){s(function(e){e.getCookie("userCode")?s({path:"/home"}):s()})},data:function(){return{form:{user:"",password:""},ImgUrl:""}},mounted:function(){this.ImgUrl=s("7Otq");document.addEventListener("plusready",function(){var e=plus.storage.getItem("url");null!=e&&(window.resUrl=e)},!1)},methods:{openUrl:function(){var e=this;this.$prompt("请输入地址","提示",{confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(e,t,s){"confirm"===e?(window.plus?plus.storage.setItem("url",t.inputValue):document.addEventListener("plusready",function(){plus.storage.setItem("url",t.inputValue)},!1),window.resUrl=t.inputValue,s()):s()}}).then(function(t){var s=t.value;e.$message({type:"success",message:"你的地址是: "+s})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},onSubmit:function(e){var t=this,s=this.form;if(""==s.user||""==s.password)this.open();else{s.user,s.password;this.$http.post("/API/loginservice/Login",{UserName:s.user,PassWord:s.password},{emulateJSON:!0}).then(function(e){if("1"==e.data.resultNum){t.pageData=e.data.subjects;var s=e.data.baseMeno1;t.setCookie("userCode",s),window.localStorage.setItem("token",s),t.$router.push({path:"/home"})}else t.open()})}},open:function(){this.$message({showClose:!0,message:"用户名密码错误，请重新登录"})}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"LoginContent",attrs:{id:"login"}},[s("img",{staticClass:"ImgClass",attrs:{src:e.ImgUrl,alt:""}}),e._v(" "),s("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(e.form)}}},[s("el-form-item",[s("span",{staticClass:"InputImg"}),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"请输入用户名"},model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),e._v(" "),s("el-form-item",[s("span",{staticClass:"InputImgPass"}),e._v(" "),s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(e.form)}}},[e._v("登录")])],1),e._v(" "),s("el-form-item",[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.openUrl}},[e._v("设置API地址")])],1)],1)],1)},staticRenderFns:[]};var r=s("C7Lr")(o,n,!1,function(e){s("Nk3f")},null,null);t.default=r.exports},"7Otq":function(e,t,s){e.exports=s.p+"static/img/logo.24b4ad8.png"},Nk3f:function(e,t){}});
//# sourceMappingURL=10.1d7bc84878a7cddba28e.js.map