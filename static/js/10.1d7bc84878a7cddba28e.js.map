{"version":3,"sources":["webpack:///./src/store/login.vue","webpack:///./src/store/login.vue?bfe8","webpack:///./src/store/login.vue?aff9","webpack:///./src/assets/logo.png"],"names":["store_login","name","beforeRouteEnter","to","from","next","vm","getCookie","path","data","form","user","password","ImgUrl","mounted","this","require","document","addEventListener","plus","storage","getItem","window","resUrl","methods","openUrl","_this","$prompt","confirmButtonText","cancelButtonText","beforeClose","action","instance","done","setItem","inputValue","then","_ref","value","$message","type","message","catch","onSubmit","_this2","formdata","open","$http","post","UserName","PassWord","emulateJSON","res","resultNum","pageData","subjects","baseMeno1","setCookie","localStorage","$router","push","showClose","selectortype_template_index_0_src_store_login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","src","alt","_v","ref","model","nativeOn","keyup","$event","indexOf","_k","keyCode","key","placeholder","callback","$$v","$set","expression","staticStyle","width","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/10.1d7bc84878a7cddba28e.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'login',\n    beforeRouteEnter (to, from, next) {\n        next(vm=>{\n          let data=vm.getCookie(\"userCode\");\n          if(data){\n            next({path:\"/home\"})\n          }else{\n            next();\n          }\n        })\n  },\n  data () {\n    return {\n      form:{\n        user:'',   \n        password:'',\n      },\n      ImgUrl:'',\n      // value1:resUrl,\n    }\n  },\n  mounted(){\n        this.ImgUrl=require(\"../assets/logo.png\");    \n        var that=this;\n        document.addEventListener(\"plusready\", function () {  \n            let data = plus.storage.getItem(\"url\");\n              if(data!=null){\n                  window.resUrl=data;\n                  // that.value1=data;\n                }\n        }, false);     \n  },\n  methods:{\n    openUrl(){\n      this.$prompt('请输入地址', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          beforeClose: (action, instance, done) => {\n           \n            if (action === 'confirm') {\n              if(window.plus){\n                  void plus.storage.setItem(\"url\", instance.inputValue);\n              }else{\n                  document.addEventListener('plusready',function(){\n                  void plus.storage.setItem(\"url\", instance.inputValue);\n                  },false);\n              }\n                window.resUrl=instance.inputValue;\n                done();\n            } else {\n              done();\n            }\n          }\n        }).then(({ value }) => {\n          this.$message({\n            type: 'success',\n            message: '你的地址是: ' + value\n          });\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '取消输入'\n          });       \n        });\n    },\n    // submitHandler(val){\n    // if(window.plus){\n    //     void plus.storage.setItem(\"url\", val);\n    // }else{\n    //     document.addEventListener('plusready',function(){\n    //     void plus.storage.setItem(\"url\", val);\n    //     },false);\n    // }\n    //   window.resUrl=val;\n    // },\n    onSubmit(data){\n      let formdata=this.form;\n      if(formdata.user==\"\"||formdata.password==\"\"){\n         this.open();\n      }else{\n        let datee={UserName:formdata.user,PassWord:formdata.password}\n        this.$http.post('/API/loginservice/Login',{UserName:formdata.user,PassWord:formdata.password},{emulateJSON: true}).then(res=>{ \n          if(res.data.resultNum==\"1\"){\n          this.pageData = res.data.subjects;\n          let data = res.data.baseMeno1;\n          this.setCookie(\"userCode\",data);\n          window.localStorage.setItem('token', data);\n          this.$router.push({path:'/home'});\n\n          //  global.baseMeno1=JSON.parse(res.data.baseMeno1);\n          }else{\n            this.open();\n          }\n        })\n      }\n    },\n     open:function() {\n       this.$message({\n          showClose: true,\n          message: '用户名密码错误，请重新登录'\n        });\n      },\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"LoginContent\",attrs:{\"id\":\"login\"}},[_c('img',{staticClass:\"ImgClass\",attrs:{\"src\":_vm.ImgUrl,\"alt\":\"\"}}),_vm._v(\" \"),_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"model\":_vm.form},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit(_vm.form)}}},[_c('el-form-item',[_c('span',{staticClass:\"InputImg\"}),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\"},model:{value:(_vm.form.user),callback:function ($$v) {_vm.$set(_vm.form, \"user\", $$v)},expression:\"form.user\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('span',{staticClass:\"InputImgPass\"}),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit(_vm.form)}}},[_vm._v(\"登录\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.openUrl}},[_vm._v(\"设置API地址\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-71f60a0c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/store/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71f60a0c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":45}!../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71f60a0c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/store/login.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/logo.24b4ad8.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/logo.png\n// module id = 7Otq\n// module chunks = 10"],"sourceRoot":""}