webpackJsonp([22],{CVRK:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"supplier",data:function(){return{parentMsg:"供应商选择列表",supplierdata:[],Number:0,param:"",scloll:"true",supplierId:"",supplierName:""}},beforeRouteLeave:function(t,e,s){e.query.supplierName=this.supplierName,e.query.supplierId=this.supplierId,s()},methods:{click:function(t,e){this.supplierName=t,this.supplierId=e,this.$router.back(-1)},submitHandler:function(t){this.param=t,this.supplierdata=[],this.Number="0",this.getData()},getData:function(){var t=this;this.scloll=!1,console.log(this.Number);var e={menuId:"104",pageNumber:this.Number,pageSize:"10",sortName:"PVD_A1_10",order:"desc",filter:"",param:this.param};this.$http.get("/API/baseservice/GetContactUnitList",{params:{data:JSON.stringify(e)}},{emulateJSON:!0}).then(function(e){for(var s in e.data.List)t.supplierdata.push(e.data.List[s]);t.scloll=!0})},handleScroll:function(t){var e=t.target,s=this.Number;if(console.log(e.scrollTop,e.offsetHeight,e.scrollHeight),e.scrollTop+e.offsetHeight==e.scrollHeight){if((s+=10)>this.RecordCount+10)return void this.$message({message:"数据已经全部加载完",type:"warning"});this.scloll&&(this.Number=s,this.getData())}}},created:function(){this.getData()}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"div1"},[s("v-header",{attrs:{header:t.parentMsg}}),t._v(" "),s("section",[s("div",{staticStyle:{"border-bottom":"1px solid #ccc"}},[s("yd-search",{attrs:{"on-submit":t.submitHandler}})],1),t._v(" "),s("div",{staticClass:"overflow",on:{scroll:function(e){return t.handleScroll(e)}}},[s("div",{staticClass:"supplier"},t._l(t.supplierdata,function(e){return s("div",{key:e.PVD_A1_10,staticClass:"sup_cont",on:{click:function(s){return t.click(e.PVD_A1_20,e.PVD_A1_10)}}},[s("p",{staticStyle:{"font-size":"18px",color:"#000"}},[t._v(t._s(e.PVD_A1_20))]),t._v(" "),s("p",[t._v("项目联系人："+t._s(e.PVD_A1_40))]),t._v(" "),s("p",[t._v("联系电话："+t._s(e.PVD_A1_80))])])}),0)])])],1)},staticRenderFns:[]};var a=s("C7Lr")(i,r,!1,function(t){s("W7h7")},null,null);e.default=a.exports},W7h7:function(t,e){}});
//# sourceMappingURL=22.6969856e5542f264b001.js.map